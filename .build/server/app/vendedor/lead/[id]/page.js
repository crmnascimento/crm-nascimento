(()=>{var e={};e.id=383,e.ids=[383],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},97374:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(19494),s(49403),s(71363);var t=s(36576),r=s(72007),i=s(21818),l=s.n(i),o=s(88897),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(a,n);let d=["",{children:["vendedor",{children:["lead",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19494)),"/home/ubuntu/crm-security-updated/app/app/vendedor/lead/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,49403)),"/home/ubuntu/crm-security-updated/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/crm-security-updated/app/app/vendedor/lead/[id]/page.tsx"],u="/vendedor/lead/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/vendedor/lead/[id]/page",pathname:"/vendedor/lead/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},14709:(e,a,s)=>{Promise.resolve().then(s.bind(s,47569))},47569:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>$});var t=s(62901),r=s(24383),i=s(84374),l=s(3271),o=s(23803),n=s(27878),d=s(250),c=s(82657),u=s(52),m=s(3047),p=s(35825),x=s(7259),h=s(26026),v=s(85453),f=s(68637);let g=m.fC;m.ZA;let j=m.B4,b=r.forwardRef(({className:e,children:a,loading:s,error:r,...i},l)=>(0,t.jsxs)(m.xz,{ref:l,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s&&"cursor-wait opacity-75",r&&"border-red-500 ring-red-500",e),disabled:s||i.disabled,...i,children:[a,t.jsx(m.JO,{asChild:!0,children:s?t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):r?t.jsx(p.Z,{className:"h-4 w-4 text-red-500"}):t.jsx(x.Z,{className:"h-4 w-4 opacity-50"})})]}));b.displayName="SelectTriggerImproved";let y=r.forwardRef(({className:e,...a},s)=>t.jsx(m.u_,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(h.Z,{className:"h-4 w-4"})}));y.displayName="SelectScrollUpButtonImproved";let N=r.forwardRef(({className:e,...a},s)=>t.jsx(m.$G,{ref:s,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(x.Z,{className:"h-4 w-4"})}));N.displayName="SelectScrollDownButtonImproved";let C=r.forwardRef(({className:e,children:a,position:s="popper",...r},i)=>t.jsx(m.h_,{children:(0,t.jsxs)(m.VY,{ref:i,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(y,{}),t.jsx(m.l_,{className:(0,f.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(N,{})]})}));C.displayName="SelectContentImproved",r.forwardRef(({className:e,...a},s)=>t.jsx(m.__,{ref:s,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName="SelectLabelImproved";let A=r.forwardRef(({className:e,children:a,checkIcon:s=!0,value:i,...l},o)=>{let n=r.useMemo(()=>i&&"string"==typeof i&&""!==i.trim()?i.trim():(console.warn("SelectItem received invalid value:",i,'defaulting to "default"'),"default"),[i]);return(0,t.jsxs)(m.ck,{ref:o,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),value:n,...l,children:[s&&t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(m.wU,{children:t.jsx(v.Z,{className:"h-4 w-4"})})}),t.jsx(m.eT,{children:a})]})});A.displayName="SelectItemImproved",r.forwardRef(({className:e,...a},s)=>t.jsx(m.Z0,{ref:s,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName="SelectSeparatorImproved";let w=(e,a)=>{let[s,t]=r.useState(e||""),[i,l]=r.useState(!1),[o,n]=r.useState(""),d=r.useCallback(e=>{if(a&&!a.some(a=>a.value===e)&&""!==e){n(`Invalid option selected: ${e}`);return}n(""),t(e)},[a]),c=r.useMemo(()=>a?a.filter(e=>e&&"object"==typeof e&&"string"==typeof e.value&&""!==e.value.trim()&&"string"==typeof e.label&&""!==e.label.trim()).map(e=>({value:e.value.trim(),label:e.label.trim()})):[],[a]);return{value:s,setValue:d,isOpen:i,setIsOpen:l,error:o,safeOptions:c,hasValidOptions:c.length>0}};var D=s(60437),E=s(42594),S=s(71945);let O=(0,S.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),P=[{value:"LIGACAO",label:"Liga\xe7\xe3o"},{value:"EMAIL",label:"Email"},{value:"WHATSAPP",label:"WhatsApp"},{value:"REUNIAO",label:"Reuni\xe3o"},{value:"PROPOSTA",label:"Proposta"},{value:"CONTRATO",label:"Contrato"},{value:"OBSERVACAO",label:"Observa\xe7\xe3o"}],R={LIGACAO:[{label:"\uD83D\uDCDE Liga\xe7\xe3o de apresenta\xe7\xe3o - Cliente interessado",text:"Realizada liga\xe7\xe3o para apresentar os servi\xe7os de recupera\xe7\xe3o de seguro prestamista. Cliente demonstrou interesse e solicitou mais informa\xe7\xf5es."},{label:"\uD83D\uDCDE Tentativa de contato - Reagendar",text:"Tentativa de contato por liga\xe7\xe3o. N\xe3o foi poss\xedvel falar com o respons\xe1vel. Secret\xe1ria informou melhor hor\xe1rio para retorno."},{label:"\uD83D\uDCDE Follow-up - Cliente analisando",text:"Liga\xe7\xe3o de follow-up. Cliente esclareceu d\xfavidas sobre o processo e est\xe1 analisando a proposta internamente."}],EMAIL:[{label:"\uD83D\uDCE7 Email de apresenta\xe7\xe3o",text:"Enviado email com apresenta\xe7\xe3o dos servi\xe7os e casos de sucesso na recupera\xe7\xe3o de seguro prestamista."},{label:"\uD83D\uDCE7 Envio de documentos",text:"Enviados documentos complementares e cronograma do processo de recupera\xe7\xe3o conforme solicitado pelo cliente."},{label:"\uD83D\uDCE7 Follow-up p\xf3s-proposta",text:"Email de follow-up verificando o andamento da an\xe1lise interna e oferecendo esclarecimentos adicionais."}],WHATSAPP:[{label:"\uD83D\uDCAC WhatsApp - Agendamento de reuni\xe3o",text:"Contato via WhatsApp para agendar reuni\xe3o presencial ou por videoconfer\xeancia para apresenta\xe7\xe3o detalhada dos servi\xe7os."},{label:"\uD83D\uDCAC Envio de material informativo",text:"Enviado material informativo via WhatsApp com cases de sucesso e depoimentos de outros clientes."},{label:"\uD83D\uDCAC Esclarecimento de d\xfavidas",text:"Resposta r\xe1pida a d\xfavidas do cliente via WhatsApp. Esclarecimentos sobre prazos e documenta\xe7\xe3o necess\xe1ria."}],REUNIAO:[{label:"\uD83E\uDD1D Reuni\xe3o presencial - Apresenta\xe7\xe3o",text:"Reuni\xe3o presencial na empresa do cliente. Apresenta\xe7\xe3o completa dos servi\xe7os e an\xe1lise preliminar do caso."},{label:"\uD83C\uDFA5 Videoconfer\xeancia - Alinhamento final",text:"Videoconfer\xeancia para alinhamento final dos termos contratuais e esclarecimento de \xfaltimas d\xfavidas antes da assinatura."},{label:"\uD83D\uDCCA Reuni\xe3o de acompanhamento",text:"Reuni\xe3o de acompanhamento do processo. Apresenta\xe7\xe3o do status atual e pr\xf3ximos passos do caso."}],PROPOSTA:[{label:"\uD83D\uDCCB Proposta comercial enviada",text:"Enviada proposta comercial personalizada com valores, prazos e condi\xe7\xf5es espec\xedficas para o caso do cliente."},{label:"✏️ Proposta ajustada",text:"Ajustes realizados na proposta conforme solicita\xe7\xf5es do cliente. Nova vers\xe3o enviada para an\xe1lise final."},{label:"⏰ Follow-up da proposta",text:"Follow-up da proposta enviada. Cliente solicitou prazo adicional para an\xe1lise interna e aprova\xe7\xe3o."}],CONTRATO:[{label:"✅ Contrato assinado - Processo iniciado",text:"Contrato assinado e processo iniciado. Documenta\xe7\xe3o recebida e an\xe1lise t\xe9cnica em andamento."},{label:"\uD83D\uDCDD Revis\xe3o final do contrato",text:"Revis\xe3o final do contrato com cliente. Esclarecimentos sobre cl\xe1usulas e assinatura agendada."},{label:"\uD83D\uDD10 Contrato para assinatura digital",text:"Contrato enviado para assinatura digital. Cliente recebeu instru\xe7\xf5es para finaliza\xe7\xe3o do processo."}],OBSERVACAO:[{label:"\uD83D\uDCDD Cliente solicitou mais tempo",text:"Cliente precisa de mais tempo para an\xe1lise interna. Reagendado contato para pr\xf3xima semana."},{label:"⏳ Aguardando aprova\xe7\xe3o interna",text:"Cliente demonstrou interesse, mas est\xe1 aguardando aprova\xe7\xe3o da diretoria. Manter acompanhamento semanal."},{label:"\uD83D\uDCA4 Sem interesse no momento",text:"Cliente n\xe3o demonstrou interesse no momento. Manter no pipeline para contato futuro em 3 meses."}]};function k({leadId:e,onSuccess:a,onCancel:s}){let{toast:i}=(0,D.pm)(),[l,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(""),[p,x]=(0,r.useState)(""),{value:h,setValue:v,error:f,hasValidOptions:y}=w("",P),N=(0,r.useMemo)(()=>h&&h in R&&R[h]||[],[h]),S=async()=>{if(!h||""===h.trim()){i({title:"Erro de Valida\xe7\xe3o",description:"Selecione o tipo de intera\xe7\xe3o",variant:"destructive"});return}if(!d||""===d.trim()){i({title:"Erro de Valida\xe7\xe3o",description:"Preencha a descri\xe7\xe3o da intera\xe7\xe3o",variant:"destructive"});return}o(!0);try{let s=await fetch("/api/interactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:e,tipo:h,descricao:d.trim(),resultado:p.trim()||null})});if(s.ok)i({title:"Sucesso",description:"Intera\xe7\xe3o adicionada com sucesso"}),a();else{let e=await s.json();throw Error(e.error||"Erro ao adicionar intera\xe7\xe3o")}}catch(e){console.error("Erro ao adicionar intera\xe7\xe3o:",e),i({title:"Erro",description:e instanceof Error?e.message:"Erro ao adicionar intera\xe7\xe3o",variant:"destructive"})}finally{o(!1)}},k=e=>{m(e.text)};return(0,t.jsxs)("div",{className:"space-y-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium text-lg",children:"Adicionar Nova Intera\xe7\xe3o"}),t.jsx(n.z,{variant:"ghost",onClick:s,size:"sm",children:t.jsx(E.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(c._,{htmlFor:"interaction-type",children:"Tipo de Intera\xe7\xe3o *"}),(0,t.jsxs)(g,{value:h,onValueChange:v,children:[t.jsx(b,{id:"interaction-type",loading:l,error:!!f,className:"mt-1",children:t.jsx(j,{placeholder:"Selecione o tipo de intera\xe7\xe3o"})}),t.jsx(C,{children:y?P.map(e=>t.jsx(A,{value:e.value,children:e.label},e.value)):t.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Nenhuma op\xe7\xe3o dispon\xedvel"})})]}),f&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:f})]}),N.length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[t.jsx(c._,{className:"text-blue-800 font-medium",children:"Templates Sugeridos:"}),t.jsx("div",{className:"mt-2 space-y-2",children:N.map((e,a)=>t.jsx(n.z,{variant:"outline",size:"sm",className:"text-xs w-full justify-start text-left h-auto p-2",onClick:()=>k(e),type:"button",children:e.label},a))})]}),(0,t.jsxs)("div",{children:[t.jsx(c._,{htmlFor:"description",children:"Descri\xe7\xe3o *"}),t.jsx(u.g,{id:"description",value:d,onChange:e=>m(e.target.value),placeholder:"Ex: Realizada liga\xe7\xe3o para apresentar os servi\xe7os. Cliente demonstrou interesse e solicitou proposta comercial.",rows:4,className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{children:[t.jsx(c._,{htmlFor:"result",children:"Resultado/Pr\xf3ximo Passo"}),t.jsx(u.g,{id:"result",value:p,onChange:e=>x(e.target.value),placeholder:"Ex: Proposta a ser enviada at\xe9 sexta-feira. Agendar follow-up para pr\xf3xima ter\xe7a-feira.",rows:3,className:"mt-1",disabled:l})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,t.jsxs)(n.z,{onClick:S,disabled:l||!h||!d.trim(),className:"bg-[#D4AF37] hover:bg-[#B8941F] text-black",children:[l?t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent mr-2"}):t.jsx(O,{className:"h-4 w-4 mr-2"}),l?"Salvando...":"Salvar Intera\xe7\xe3o"]}),t.jsx(n.z,{variant:"outline",onClick:s,disabled:l,children:"Cancelar"})]})]})]})}let I=[{value:"NAO_CONTATADO",label:"N\xe3o Contatado"},{value:"POTENCIAL",label:"Contato Realizado"},{value:"EM_ANALISE",label:"Qualifica\xe7\xe3o"},{value:"PROCESSO_INICIADO",label:"Proposta Enviada"},{value:"VALOR_RECUPERADO",label:"Negocia\xe7\xe3o"},{value:"CONTRATO_ASSINADO",label:"Fechado Ganho"},{value:"PERDIDO",label:"Fechado Perdido"}];function _({value:e,onValueChange:a,placeholder:s="Selecione o status",loading:r,error:i,className:l}){let{value:o,setValue:n,error:d,hasValidOptions:c}=w(e,I);return(0,t.jsxs)(g,{value:o,onValueChange:e=>{n(e),a(e)},children:[t.jsx(b,{loading:r,error:i||!!d,className:l,children:t.jsx(j,{placeholder:s})}),t.jsx(C,{children:c?I.map(e=>t.jsx(A,{value:e.value,children:e.label},e.value)):t.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Nenhuma op\xe7\xe3o dispon\xedvel"})})]})}[...I];var M=s(31606);let z=(0,S.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),T=(0,S.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var Z=s(77185),L=s(32614),V=s(19918),F=s(70818),B=s(5185);let q=(0,S.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var H=s(97718),G=s(32317),W=s(76021),U=s(62392);function $(){let e=(0,i.useParams)();(0,i.useRouter)();let{toast:a}=(0,D.pm)(),[s,m]=(0,r.useState)(null),[p,x]=(0,r.useState)(!0),[h,v]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[C,A]=(0,r.useState)(""),[w,S]=(0,r.useState)(!1),[P,R]=(0,r.useState)(null),[I,$]=(0,r.useState)({}),Y=async()=>{try{let s=await fetch(`/api/leads/${e.id}`);if(s.ok){let e=await s.json();m(e),g(e.status),b(e.proximaAcao||""),N(e.dataProximaAcao?e.dataProximaAcao.split("T")[0]:""),A(e.observacoesContato||"")}else a({title:"Erro",description:"Erro ao carregar lead",variant:"destructive"})}catch(e){a({title:"Erro",description:"Erro ao carregar lead",variant:"destructive"})}finally{x(!1)}},J=async()=>{v(!0);try{(await fetch(`/api/leads/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:f,proximaAcao:j,dataProximaAcao:y?new Date(y).toISOString():null,observacoesContato:C})})).ok?(a({title:"Sucesso",description:"Lead atualizado com sucesso"}),Y()):a({title:"Erro",description:"Erro ao atualizar lead",variant:"destructive"})}catch(e){a({title:"Erro",description:"Erro ao atualizar lead",variant:"destructive"})}finally{v(!1)}},Q=(e,a)=>{R(e),$({[e]:a})},X=()=>{R(null),$({})},K=async s=>{try{(await fetch(`/api/leads/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[s]:I[s]})})).ok?(a({title:"Sucesso",description:"Campo atualizado com sucesso"}),R(null),$({}),Y()):a({title:"Erro",description:"Erro ao atualizar campo",variant:"destructive"})}catch(e){a({title:"Erro",description:"Erro ao atualizar campo",variant:"destructive"})}},ee=({field:e,value:a,label:s,type:r="text"})=>{let i=P===e,l=I[e]??a;return i?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(c._,{children:s}),"currency"===r?t.jsx(d.I,{type:"number",value:l||"",onChange:a=>$({...I,[e]:parseFloat(a.target.value)||0}),className:"mt-1",placeholder:"0.00"}):t.jsx(d.I,{type:r,value:l||"",onChange:a=>$({...I,[e]:a.target.value}),className:"mt-1"})]}),(0,t.jsxs)("div",{className:"flex space-x-1 mt-6",children:[t.jsx(n.z,{size:"sm",onClick:()=>K(e),className:"h-8 w-8 p-0",children:t.jsx(O,{className:"h-3 w-3"})}),t.jsx(n.z,{size:"sm",variant:"outline",onClick:X,className:"h-8 w-8 p-0",children:t.jsx(E.Z,{className:"h-3 w-3"})})]})]}):(0,t.jsxs)("div",{className:"group",children:[t.jsx(c._,{children:s}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx("p",{className:"font-medium flex-1",children:"currency"===r&&a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a):a||"N\xe3o informado"}),t.jsx(n.z,{size:"sm",variant:"ghost",onClick:()=>Q(e,a),className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",children:t.jsx(z,{className:"h-3 w-3"})})]})]})},ea=e=>{switch(e){case"LIGACAO":return"Liga\xe7\xe3o";case"EMAIL":return"Email";case"WHATSAPP":return"WhatsApp";case"REUNIAO":return"Reuni\xe3o";case"PROPOSTA":return"Proposta";case"CONTRATO":return"Contrato";case"OBSERVACAO":return"Observa\xe7\xe3o";default:return e}};return p?t.jsx(l.L,{requiredRole:"VENDEDOR",children:t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})}):s?t.jsx(l.L,{requiredRole:"VENDEDOR",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx(U.default,{href:"/vendedor",children:(0,t.jsxs)(n.z,{variant:"ghost",className:"mb-2",children:[t.jsx(T,{className:"h-4 w-4 mr-2"}),"Voltar para Meus Leads"]})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.razaoSocial}),s.nomeFantasia&&(0,t.jsxs)("p",{className:"text-gray-600",children:["Nome Fantasia: ",s.nomeFantasia]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(M.C,{className:(e=>{switch(e){case"NAO_CONTATADO":return"bg-red-100 text-red-800";case"POTENCIAL":return"bg-yellow-100 text-yellow-800";case"EM_ANALISE":return"bg-blue-100 text-blue-800";case"CONTRATO_ASSINADO":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(s.status),children:(e=>{switch(e){case"NAO_CONTATADO":return"N\xe3o Contatado";case"POTENCIAL":return"Contato Realizado";case"EM_ANALISE":return"Qualifica\xe7\xe3o";case"PROCESSO_INICIADO":return"Proposta Enviada";case"VALOR_RECUPERADO":return"Negocia\xe7\xe3o";case"CONTRATO_ASSINADO":return"Fechado Ganho";case"PERDIDO":return"Fechado Perdido";default:return e}})(s.status)}),(0,t.jsxs)(M.C,{variant:"outline",children:["Prioridade: ",s.prioridade]})]})]}),t.jsx("div",{className:"text-right",children:(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Valor Estimado"}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.jsx(ee,{field:"valorEstimadoRecuperacao",value:s.valorEstimadoRecuperacao,label:"",type:"currency"})})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[t.jsx(Z.Z,{className:"h-5 w-5 mr-2"}),"Dados de Contato"]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(L.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("div",{className:"flex-1",children:t.jsx(ee,{field:"telefonePrincipal",value:s.telefonePrincipal,label:"Telefone Principal"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(L.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("div",{className:"flex-1",children:t.jsx(ee,{field:"telefoneSecundario",value:s.telefoneSecundario,label:"Telefone Secund\xe1rio"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(V.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("div",{className:"flex-1",children:t.jsx(ee,{field:"email",value:s.email,label:"E-mail"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(Z.Z,{className:"h-4 w-4 text-gray-500"}),t.jsx("div",{className:"flex-1",children:t.jsx(ee,{field:"contatoPrincipal",value:s.contatoPrincipal?`${s.contatoPrincipal} ${s.cargo?`(${s.cargo})`:""}`:"",label:"Contato Principal"})})]})]}),(s.endereco||s.municipio)&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 pt-2",children:[t.jsx(F.Z,{className:"h-4 w-4 text-gray-500 mt-1"}),(0,t.jsxs)("div",{children:[s.endereco&&t.jsx("p",{children:s.endereco}),(s.municipio||s.uf)&&(0,t.jsxs)("p",{children:[s.municipio,", ",s.uf," ",s.cep&&`- ${s.cep}`]})]})]})]})]}),(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[t.jsx(B.Z,{className:"h-5 w-5 mr-2"}),"Informa\xe7\xf5es Comerciais"]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.cnpj&&(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"CNPJ"}),t.jsx("p",{className:"font-medium",children:s.cnpj})]}),s.setor&&(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Setor"}),t.jsx("p",{className:"font-medium",children:s.setor})]}),s.contratosBancarios&&(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Contratos Banc\xe1rios"}),t.jsx("p",{className:"font-medium",children:s.contratosBancarios})]}),s.instituicoesFinanceiras&&(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Institui\xe7\xf5es Financeiras"}),t.jsx("p",{className:"font-medium",children:s.instituicoesFinanceiras})]})]}),s.observacoes&&(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Observa\xe7\xf5es Gerais"}),t.jsx("p",{className:"mt-1 text-sm text-gray-700 bg-gray-50 p-3 rounded-md",children:s.observacoes})]})]})]}),(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(o.ll,{className:"flex items-center",children:[t.jsx(q,{className:"h-5 w-5 mr-2"}),"Hist\xf3rico de Intera\xe7\xf5es"]}),(0,t.jsxs)(n.z,{onClick:()=>S(!w),className:"bg-[#D4AF37] hover:bg-[#B8941F] text-black",children:[t.jsx(H.Z,{className:"h-4 w-4 mr-2"}),"Nova Intera\xe7\xe3o"]})]})}),(0,t.jsxs)(o.aY,{children:[w&&t.jsx(k,{leadId:e.id,onSuccess:()=>{S(!1),Y()},onCancel:()=>S(!1)}),t.jsx("div",{className:"space-y-4",children:s.interactions&&s.interactions.length>0?s.interactions.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(M.C,{variant:"outline",children:ea(e.tipo)}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.dataContato).toLocaleDateString("pt-BR")," \xe0s"," ",new Date(e.dataContato).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})," - ",e.user.name]})]}),t.jsx("p",{className:"text-gray-700 mb-2",children:e.descricao}),e.resultado&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[t.jsx("strong",{children:"Resultado:"})," ",e.resultado]})]},e.id)):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma intera\xe7\xe3o registrada ainda"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center",children:[t.jsx(G.Z,{className:"h-5 w-5 mr-2"}),"A\xe7\xf5es do Lead"]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Status do Lead"}),t.jsx(_,{value:f,onValueChange:g,loading:h,className:"mt-1"})]}),(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Pr\xf3xima A\xe7\xe3o"}),t.jsx(u.g,{value:j,onChange:e=>b(e.target.value),placeholder:"Descreva a pr\xf3xima a\xe7\xe3o..."})]}),(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Data da Pr\xf3xima A\xe7\xe3o"}),t.jsx(d.I,{type:"date",value:y,onChange:e=>N(e.target.value)})]}),(0,t.jsxs)("div",{children:[t.jsx(c._,{children:"Observa\xe7\xf5es de Contato"}),t.jsx(u.g,{value:C,onChange:e=>A(e.target.value),placeholder:"Adicione observa\xe7\xf5es sobre os contatos..."})]}),t.jsx(n.z,{onClick:J,disabled:h,className:"w-full bg-[#D4AF37] hover:bg-[#B8941F] text-black",children:h?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]}),s.proximaAcao&&(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center text-yellow-700",children:[t.jsx(W.Z,{className:"h-5 w-5 mr-2"}),"Pr\xf3xima A\xe7\xe3o Agendada"]})}),(0,t.jsxs)(o.aY,{children:[t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:s.proximaAcao}),s.dataProximaAcao&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Data: ",new Date(s.dataProximaAcao).toLocaleDateString("pt-BR")]})]})]})]})]})]})}):t.jsx(l.L,{requiredRole:"VENDEDOR",children:t.jsx("div",{className:"p-6",children:t.jsx(o.Zb,{children:(0,t.jsxs)(o.aY,{className:"p-12 text-center",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Lead n\xe3o encontrado"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"O lead solicitado n\xe3o foi encontrado ou voc\xea n\xe3o tem permiss\xe3o para acess\xe1-lo."}),t.jsx(U.default,{href:"/vendedor",children:t.jsx(n.z,{children:"Voltar para Meus Leads"})})]})})})})}},31606:(e,a,s)=>{"use strict";s.d(a,{C:()=>o});var t=s(62901);s(24383);var r=s(47279),i=s(68637);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:a,...s}){return t.jsx("div",{className:(0,i.cn)(l({variant:a}),e),...s})}},250:(e,a,s)=>{"use strict";s.d(a,{I:()=>l});var t=s(62901),r=s(24383),i=s(68637);let l=r.forwardRef(({className:e,type:a,...s},r)=>t.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));l.displayName="Input"},82657:(e,a,s)=>{"use strict";s.d(a,{_:()=>d});var t=s(62901),r=s(24383),i=s(8388),l=s(47279),o=s(68637);let n=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...a},s)=>t.jsx(i.f,{ref:s,className:(0,o.cn)(n(),e),...a}));d.displayName=i.f.displayName},52:(e,a,s)=>{"use strict";s.d(a,{g:()=>l});var t=s(62901),r=s(24383),i=s(68637);let l=r.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));l.displayName="Textarea"},5185:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},76021:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},35825:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},32317:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},70818:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},97718:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(71945).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},19494:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(88895).createProxy)(String.raw`/home/ubuntu/crm-security-updated/app/app/vendedor/lead/[id]/page.tsx#default`)},8388:(e,a,s)=>{"use strict";s.d(a,{f:()=>o});var t=s(24383),r=s(74132),i=s(62901),l=t.forwardRef((e,a)=>(0,i.jsx)(r.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var o=l}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[372,446,362,226,883,36],()=>s(97374));module.exports=t})();