(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},62297:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>c}),a(20889),a(49403),a(71363);var t=a(36576),l=a(72007),r=a(21818),d=a.n(r),i=a(88897),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(s,n);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,20889)),"/home/ubuntu/crm-security-updated/app/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49403)),"/home/ubuntu/crm-security-updated/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],x=["/home/ubuntu/crm-security-updated/app/app/dashboard/page.tsx"],o="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},16715:(e,s,a)=>{Promise.resolve().then(a.bind(a,96281))},96281:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(62901),l=a(24383),r=a(3271),d=a(23803),i=a(66843),n=a(79357),c=a(87552),x=a(32614),o=a(76021),m=a(30808),h=a(21391),u=a(35825),p=a(81068),j=a(62445),N=a(82666),g=a(17090),b=a(14881),v=a(67915),f=a(62781);function y(){let[e,s]=(0,l.useState)(null),[a,y]=(0,l.useState)(!0),w=e=>{switch(e){case"NAO_CONTATADO":return"N\xe3o Contatado";case"POTENCIAL":return"Contato Realizado";case"EM_ANALISE":return"Qualifica\xe7\xe3o";case"PROCESSO_INICIADO":return"Proposta Enviada";case"VALOR_RECUPERADO":return"Negocia\xe7\xe3o";case"CONTRATO_ASSINADO":return"Fechado Ganho";case"PERDIDO":return"Fechado Perdido";default:return e}},A=["#EF4444","#F59E0B","#3B82F6","#10B981","#8B5CF6","#06B6D4","#6B7280"];return a?t.jsx(r.L,{requiredRole:"DIRETORIA",children:t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>t.jsx("div",{className:"h-32 bg-gray-200 rounded"},e))})]})})}):t.jsx(r.L,{requiredRole:"DIRETORIA",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Executivo"}),t.jsx("p",{className:"text-gray-600",children:"Vis\xe3o geral do desempenho e m\xe9tricas do CRM"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[t.jsx(d.Zb,{children:t.jsx(d.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(i.Z,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Leads"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e?.totalLeads||0}),(0,t.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",e?.recentLeads||0," nos \xfaltimos 30 dias"]})]})]})})}),t.jsx(d.Zb,{children:t.jsx(d.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(n.Z,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total em Negocia\xe7\xe3o"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e?.totalValue?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact",maximumFractionDigits:0}).format(e.totalValue):"R$ 0"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor estimado de recupera\xe7\xe3o"})]})]})})}),t.jsx(d.Zb,{children:t.jsx(d.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:t.jsx(c.Z,{className:"h-6 w-6 text-yellow-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa de Convers\xe3o"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e?.conversionRate?`${e.conversionRate.toFixed(1)}%`:"0%"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e?.contractedLeads||0," contratos assinados"]})]})]})})}),t.jsx(d.Zb,{children:t.jsx(d.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:t.jsx(x.Z,{className:"h-6 w-6 text-purple-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Intera\xe7\xf5es Recentes"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e?.recentInteractions||0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"\xdaltimos 7 dias"})]})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[t.jsx(d.ll,{children:"Funil de Vendas"}),t.jsx(d.SZ,{children:"Acompanhamento do pipeline de vendas"})]}),t.jsx(d.aY,{children:t.jsx("div",{className:"h-80",children:t.jsx(p.h,{width:"100%",height:"100%",children:(0,t.jsxs)(j.v,{data:e?.leadsPerStatus?.map((e,s)=>({name:w(e.status),value:e.count,color:A[s%A.length]}))||[],margin:{top:5,right:30,left:20,bottom:5},children:[t.jsx(N.q,{strokeDasharray:"3 3"}),t.jsx(g.K,{dataKey:"name",tick:{fontSize:9},tickLine:!1,angle:-45,textAnchor:"end",height:60}),t.jsx(b.B,{tick:{fontSize:10},tickLine:!1}),t.jsx(v.u,{}),t.jsx(f.$,{dataKey:"value",fill:"#D4AF37",radius:[4,4,0,0]})]})})})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[t.jsx(d.ll,{children:"Desempenho do Vendedor"}),t.jsx(d.SZ,{children:"M\xe9tricas de produtividade atual"})]}),t.jsx(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(x.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-blue-900",children:"Taxa de Contato"}),t.jsx("p",{className:"text-sm text-blue-600",children:"Leads contatados vs total"})]})]}),t.jsx("span",{className:"text-2xl font-bold text-blue-900",children:(e?.totalLeads||0)>0&&e?`${((e.totalLeads-(e.leadsPerStatus?.find(e=>"NAO_CONTATADO"===e.status)?.count||0))/e.totalLeads*100).toFixed(1)}%`:"0%"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(c.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-green-900",children:"Meta do M\xeas"}),t.jsx("p",{className:"text-sm text-green-600",children:"Contratos vs meta (15)"})]})]}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-green-900",children:[e?.contractedLeads||0,"/15"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(o.Z,{className:"h-5 w-5 text-yellow-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-yellow-900",children:"Atividade Semanal"}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Intera\xe7\xf5es dos \xfaltimos 7 dias"})]})]}),t.jsx("span",{className:"text-2xl font-bold text-yellow-900",children:e?.recentInteractions||0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(m.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-purple-900",children:"Produtividade"}),t.jsx("p",{className:"text-sm text-purple-600",children:"Intera\xe7\xf5es por lead ativo"})]})]}),t.jsx("span",{className:"text-2xl font-bold text-purple-900",children:(e?.totalLeads||0)>0&&e?((e.recentInteractions||0)/e.totalLeads).toFixed(1):"0.0"})]})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center",children:[t.jsx(h.Z,{className:"h-5 w-5 mr-2"}),"Atividades Recentes do Vendedor"]}),t.jsx(d.SZ,{children:"\xdaltimas intera\xe7\xf5es e atualiza\xe7\xf5es realizadas"})]}),t.jsx(d.aY,{children:t.jsx("div",{className:"space-y-4",children:e?.recentInteractions===0?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma atividade recente"}),t.jsx("p",{className:"text-gray-600",children:"Quando houver intera\xe7\xf5es com leads, elas aparecer\xe3o aqui."})]}):(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"bg-blue-500 rounded-full w-2 h-2 mt-2"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[e?.recentInteractions," intera\xe7\xf5es registradas"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Nos \xfaltimos 7 dias - Acompanhe o progresso na p\xe1gina de leads"})]})]})})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center",children:[t.jsx(u.Z,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Alertas e Pr\xf3ximas A\xe7\xf5es"]}),t.jsx(d.SZ,{children:"Itens que requerem aten\xe7\xe3o"})]}),t.jsx(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsxs)("span",{className:"font-medium text-red-800",children:[e?.leadsPerStatus?.find(e=>"NAO_CONTATADO"===e.status)?.count||0," leads n\xe3o contatados"]})]}),t.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Requerem primeiro contato"})]}),(0,t.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,t.jsxs)("span",{className:"font-medium text-yellow-800",children:[e?.leadsPerPriority?.find(e=>"ALTA"===e.priority)?.count||0," leads de alta prioridade"]})]}),t.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Precisam de aten\xe7\xe3o priorit\xe1ria"})]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsxs)("span",{className:"font-medium text-blue-800",children:[e?.recentInteractions||0," intera\xe7\xf5es esta semana"]})]}),t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Atividade dos vendedores"})]})]})})]})]})]})})}},35825:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},20889:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(88895).createProxy)(String.raw`/home/ubuntu/crm-security-updated/app/app/dashboard/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[372,446,362,226,1,36],()=>a(62297));module.exports=t})();